<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Online Ramudu Sita Game</title>

<style>
body{font-family:Arial;text-align:center;background:#f4f6fb;}
input,button{padding:10px;margin:5px;font-size:16px;}
button{
 background:#4CAF50;
 color:white;
 border:none;
 border-radius:8px;
}
#role{font-size:26px;margin-top:20px;}
</style>
</head>

<body>

<h2>Online Ramuduâ€“Sita Game</h2>

<div id="join">
<input id="name" placeholder="Enter your name">
<button onclick="join()">Join Game</button>
</div>

<div id="game" style="display:none;">
<button onclick="reveal()">Reveal My Role</button>
<div id="role"></div>

<br>
<button onclick="guess()">I am Rama â€” Guess Sita</button>
</div>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database.js"></script>

<script>
// ðŸ”´ REPLACE WITH YOUR FIREBASE CONFIG
const firebaseConfig = {
  apiKey: "YOUR_KEY",
  authDomain: "YOUR_DOMAIN",
  databaseURL: "YOUR_DB_URL",
  projectId: "YOUR_ID",
  storageBucket: "YOUR_BUCKET",
  messagingSenderId: "YOUR_SENDER",
  appId: "YOUR_APPID"
};

firebase.initializeApp(firebaseConfig);
const db = firebase.database();

let playerName="";
let myRole="";

const roles=["Rama","Sita","Hanuman","Lakshmana","Sugriva","Vibhishana"];

function join(){
  playerName=document.getElementById("name").value;
  if(!playerName) return alert("Enter name");

  db.ref("players/"+playerName).set({
    role:"",
    score:0
  });

  document.getElementById("join").style.display="none";
  document.getElementById("game").style.display="block";
}

function reveal(){
  if(myRole) return;

  const r=roles[Math.floor(Math.random()*roles.length)];
  myRole=r;

  db.ref("players/"+playerName+"/role").set(r);

  document.getElementById("role").innerHTML="You are: <b>"+r+"</b>";
}

function guess(){
  if(myRole!=="Rama") return alert("Only Rama can guess!");

  db.ref("players").once("value",snap=>{
    let players=snap.val();
    let sitaPlayer=null;

    for(let p in players){
      if(players[p].role==="Sita"){
        sitaPlayer=p;
      }
    }

    let guess=prompt("Enter who you think is Sita:");

    if(guess===sitaPlayer){
      db.ref("players/"+playerName+"/score").transaction(s=>(s||0)+1000);
      alert("Correct! Rama gets 1000");
    }else{
      db.ref("players/"+sitaPlayer+"/score").transaction(s=>(s||0)+1000);
      alert("Wrong! Sita gets 1000");
    }
  });
}
</script>

</body>
</html>
